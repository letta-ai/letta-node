/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as serializers from "../../../../../index";
import * as Letta from "../../../../../../api/index";
import * as core from "../../../../../../core";
import { SystemMessageOutput } from "../../../../../types/SystemMessageOutput";
import { UserMessageOutput } from "../../../../../types/UserMessageOutput";
import { ReasoningMessage } from "../../../../../types/ReasoningMessage";
import { ToolCallMessage } from "../../../../../types/ToolCallMessage";
import { ToolReturnMessage } from "../../../../../types/ToolReturnMessage";
import { AssistantMessageOutput } from "../../../../../types/AssistantMessageOutput";
import { LettaUsageStatistics } from "../../../../../types/LettaUsageStatistics";

export const LettaStreamingResponse: core.serialization.Schema<
    serializers.agents.LettaStreamingResponse.Raw,
    Letta.agents.LettaStreamingResponse
> = core.serialization
    .union(core.serialization.discriminant("messageType", "message_type"), {
        system_message: SystemMessageOutput,
        user_message: UserMessageOutput,
        reasoning_message: ReasoningMessage,
        tool_call_message: ToolCallMessage,
        tool_return_message: ToolReturnMessage,
        assistant_message: AssistantMessageOutput,
        usage_statistics: LettaUsageStatistics,
    })
    .transform<Letta.agents.LettaStreamingResponse>({
        transform: (value) => value,
        untransform: (value) => value,
    });

export declare namespace LettaStreamingResponse {
    type Raw =
        | LettaStreamingResponse.SystemMessage
        | LettaStreamingResponse.UserMessage
        | LettaStreamingResponse.ReasoningMessage
        | LettaStreamingResponse.ToolCallMessage
        | LettaStreamingResponse.ToolReturnMessage
        | LettaStreamingResponse.AssistantMessage
        | LettaStreamingResponse.UsageStatistics;

    interface SystemMessage extends SystemMessageOutput.Raw {
        message_type: "system_message";
    }

    interface UserMessage extends UserMessageOutput.Raw {
        message_type: "user_message";
    }

    interface ReasoningMessage extends ReasoningMessage.Raw {
        message_type: "reasoning_message";
    }

    interface ToolCallMessage extends ToolCallMessage.Raw {
        message_type: "tool_call_message";
    }

    interface ToolReturnMessage extends ToolReturnMessage.Raw {
        message_type: "tool_return_message";
    }

    interface AssistantMessage extends AssistantMessageOutput.Raw {
        message_type: "assistant_message";
    }

    interface UsageStatistics extends LettaUsageStatistics.Raw {
        message_type: "usage_statistics";
    }
}
